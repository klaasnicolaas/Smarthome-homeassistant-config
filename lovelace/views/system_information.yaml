---
################################## Systeeminformatie ##################################
id: system_information
title: Systeeminformatie
icon: mdi:server
path: system
cards:
  # Hassio host server info
  - type: vertical-stack
    cards:
      - type: custom:vertical-stack-in-card
        title: Hassio Server
        cards:
          - type: horizontal-stack
            cards:
              - type: vertical-stack
                cards:
                  - type: picture
                    image: /local/images/hassio.jpg
                    style: |
                      ha-card {
                        margin: 10px
                      }

              - type: vertical-stack
                cards:
                  - type: custom:bar-card
                    title_position: inside
                    entity: sensor.ha_installed_version
                    title: Hassio Versie
                    align: center
                    padding: 5px
                    max: 60
                    card_style:
                      border-radius: 5px

                  - type: custom:bar-card
                    title_position: inside
                    entity: sensor.ha_restart_time
                    title: Restart Time
                    align: center
                    padding: 5px
                    max: 400
                    card_style:
                      border-radius: 5px

                  - type: custom:bar-card
                    title_position: inside
                    entity: sensor.potential_breaking_changes
                    title: Breaking Changes
                    align: center
                    padding: 5px
                    max: 400
                    card_style:
                      border-radius: 5px

          - type: custom:bar-card
            align: split
            show_icon: true
            padding: 4px
            columns: 2
            card_style:
              border-radius: 5px
            entities:
              - entity: sensor.disk_use_percent
                title: Opslag
              - entity: sensor.memory_use_percent
                title: RAM

          - type: custom:bar-card
            align: split
            show_icon: true
            padding: 4px
            columns: 2
            card_style:
              border-radius: 5px
            entities:
              - entity: sensor.processor_use
                title: CPU
              - entity: sensor.cpu_temperature
                title: Temp
                icon: mdi:thermometer

          - type: custom:bar-card
            align: split
            show_icon: true
            padding: 4px
            columns: 2
            card_style:
              border-radius: 5px
            entities:
              - entity: sensor.swap_use_percent
                title: SWAP
              - entity: sensor.db_size
                title: DB
                max: 3000

          - type: custom:bar-card
            align: split
            show_icon: true
            padding: 4px
            columns: 2
            card_style:
              border-radius: 5px
            entities:
              - entity: sensor.home_assistant_log
                title: Log size
              - entity: sensor.ha_uptime
                title: Uptime

          - type: custom:bar-card
            title_position: inside
            entity: sensor.disk_free
            max: 500
            align: center
            direction: right-reverse
            padding: 5px
            card_style:
              border-radius: 5px
      # Toont de batterij percentages van de Z-wave devices
      - type: custom:vertical-stack-in-card
        title: Batterij Status
        cards:
          - type: custom:auto-entities
            card:
              type: custom:bar-card
              attribute: battery_level
              unit_of_measurement: "%"
              severity:
                - value: 50
                  color: '#bf4040'
                - value: 75
                  color: '#bf9540'
                - value: 100
                  color: '#40bf40'
              title_position: inside
              padding: 2px
              columns: 2
            filter:
              include:
                - attributes:
                    battery_level: "<=100"
              exclude:
                - entity_id: "*_humidity"
                - entity_id: "*_pressure"
                # - entity_id: "*_battery"
                - domain: device_tracker
      - type: glance
        entities:
          - name: Foscam
            entity: binary_sensor.foscam
          - name: Slaapkamer
            entity: binary_sensor.google_mini_slaapkamer
          - name: Woonkamer
            entity: binary_sensor.google_mini_woonkamer
          - name: HP Printer
            entity: binary_sensor.hp_printer
          - name: Synology NAS
            entity: binary_sensor.synology_nas
          - name: Router
            entity: binary_sensor.tp_link_router
          - name: Switch
            entity: binary_sensor.tp_link_switch
        columns: 4
        show_state: false

  # Show information about Home Assistant
  - type: entities
    title: Home Assistant Info
    show_header_toggle: false
    entities:
      - sensor.last_boot
      - binary_sensor.home_assistant_home
      - type: divider
      # Hassio
      - entity: sensor.hassio_stable_versie
        name: Hassio version
        icon: mdi:home-assistant
        type: custom:multiple-entity-row
        hide_state: true
        primary:
          entity: sensor.hassio_beta_versie
          name: Beta
        secondary:
          entity: sensor.hassio_stable_versie
          name: Stable
      # HassOS
      - entity: sensor.hassos_version_stable
        name: HassOS version
        icon: mdi:server-security
        type: custom:multiple-entity-row
        hide_state: true
        primary:
          entity: sensor.hassos_version_beta
          name: Beta
        secondary:
          entity: sensor.hassos_version_stable
          name: Stable
      # Supervisor
      - entity: sensor.supervisor_version_stable
        name: Supervisor version
        icon: mdi:account-supervisor-circle
        type: custom:multiple-entity-row
        hide_state: true
        primary:
          entity: sensor.supervisor_version_beta
          name: Beta
        secondary:
          entity: sensor.supervisor_version_stable
          name: Stable
      - sensor.python_version
      - type: divider
      - sensor.automation_on
      - sensor.hacs
      - type: custom:vertical-stack-in-card
        cards:
          - type: horizontal-stack
            cards:
              - type: custom:bar-card
                title: Cameras
                entity: sensor.camera_count
                title_position: inside
                align: center
                padding: 4px
                card_style:
                  border-radius: 5px
                max: 10
                severity:
                  - value: 1
                    color: '#bf4040'
                  - value: 8
                    color: '#1db954'
                  - value: 10
                    color: '#bf9540'

              - type: custom:bar-card
                title: Lights
                entity: sensor.lights_count
                title_position: inside
                align: center
                padding: 4px
                card_style:
                  border-radius: 5px
                max: 30
                severity:
                  - value: 1
                    color: '#bf4040'
                  - value: 30
                    color: '#1db954'
                  - value: 40
                    color: '#bf9540'

              - type: custom:bar-card
                title: Tracked Devices
                entity: sensor.tracker_count
                title_position: inside
                align: center
                padding: 4px
                card_style:
                  border-radius: 5px
                max: 88
                severity:
                  - value: 1
                    color: '#bf4040'
                  - value: 87
                    color: '#1db954'
                  - value: 100
                    color: '#bf9540'

          - type: horizontal-stack
            cards:
              - type: custom:bar-card
                title: Automations
                entity: sensor.automation_count
                title_position: inside
                align: center
                padding: 4px
                card_style:
                  border-radius: 5px
                max: 400
                severity:
                  - value: 1
                    color: '#bf4040'
                  - value: 300
                    color: '#1db954'
                  - value: 400
                    color: '#bf9540'

              - type: custom:bar-card
                title: Binary Sensors
                entity: sensor.binary_sensor_count
                title_position: inside
                align: center
                padding: 4px
                card_style:
                  border-radius: 5px
                max: 200
                severity:
                  - value: 1
                    color: '#bf4040'
                  - value: 150
                    color: '#1db954'
                  - value: 200
                    color: '#bf9540'

          - type: horizontal-stack
            cards:
              - type: custom:bar-card
                title: Media Players
                entity: sensor.media_player_count
                title_position: inside
                align: center
                padding: 4px
                card_style:
                  border-radius: 5px
                max: 20
                severity:
                  - value: 1
                    color: '#bf4040'
                  - value: 16
                    color: '#1db954'
                  - value: 30
                    color: '#bf9540'

              - type: custom:bar-card
                title: Scripts
                entity: sensor.script_count
                title_position: inside
                align: center
                padding: 4px
                card_style:
                  border-radius: 5px
                max: 35
                severity:
                  - value: 1
                    color: '#bf4040'
                  - value: 34
                    color: '#1db954'
                  - value: 40
                    color: '#bf9540'

          - type: horizontal-stack
            cards:
              - type: custom:bar-card
                title: Sensors
                entity: sensor.sensor_count
                title_position: inside
                align: center
                padding: 4px
                card_style:
                  border-radius: 5px
                max: 786
                severity:
                  - value: 1
                    color: '#bf4040'
                  - value: 785
                    color: '#1db954'
                  - value: 800
                    color: '#bf9540'

              - type: custom:bar-card
                title: Switches
                entity: sensor.switch_count
                title_position: inside
                align: center
                padding: 4px
                card_style:
                  border-radius: 5px
                max: 65
                severity:
                  - value: 1
                    color: '#bf4040'
                  - value: 64
                    color: '#1db954'
                  - value: 70
                    color: '#bf9540'

  # Show maintenance dashboard
  - type: vertical-stack
    cards:
      - type: custom:vertical-stack-in-card
        cards:
          - type: entities
            title: Onderhoud
            show_header_toggle: false
            entities:
              - input_boolean.maintenance_mode
              - type: divider
          # Buttons
          - type: horizontal-stack
            cards:
              - type: custom:button-card
                entity: script.hassio_reboot
                color_type: icon
                name: Hassio
              - type: custom:button-card
                entity: script.host_reboot
                color_type: card
                name: Host
                lock: true
              - type: custom:button-card
                entity: script.host_shutdown
                color_type: card
                lock: true
                name: Host Shutdown
              - type: custom:button-card
                entity: script.backup_now
                color_type: icon
                name: Snapshot
          - type: entities
            show_header_toggle: false
            entities:
              - type: divider
              # Gitlab CI
              - sensor.gitlab_ci_status
              - type: divider
              # Github
              - sensor.github_config_stars
              - sensor.github_commit_message
              - type: divider
              - type: weblink
                name: Github - Home Assistant config
                url: https://github.com/klaasnicolaas/Smarthome-homeassistant-config
              - type: weblink
                name: Router - TP Link
                url: !secret weblink_router
      # Show alerts that can appear
      - type: entities
        title: Alerts
        show_header_toggle: false
        entities:
          - binary_sensor.cpu_high
          - binary_sensor.cpu_hot

  # Show information about the internet connection
  - type: vertical-stack
    cards:
      - type: horizontal-stack
        cards:
          - type: custom:mini-graph-card
            entities:
              - sensor.speedtest_ping
            height: 20
            line_width: 2
            font_size: 70
            hours_to_show: 168
            points_per_hour: 0.3
            show:
              # extrema: true
              fill: true
              graph: bar

      - type: horizontal-stack
        cards:
          - type: custom:mini-graph-card
            entities:
              - sensor.speedtest_download
            height: 50
            line_width: 2
            font_size: 70
            hours_to_show: 168
            points_per_hour: 0.3
            show:
              extrema: true
              fill: true
            color_thresholds:
              - value: 150
                color: "#bf4040"

          - type: custom:mini-graph-card
            entities:
              - sensor.speedtest_upload
            height: 50
            line_width: 2
            font_size: 70
            hours_to_show: 168
            points_per_hour: 0.3
            show:
              extrema: true
              fill: true
            color_thresholds:
              - value: 13
                color: "#bf4040"

      # External IP and SSL certificate
      - type: entities
        title: Netwerk
        show_header_toggle: false
        entities:
          - sensor.myip
          - sensor.ssl_certificate_expiry

  # Toont de NFC Tags
  - type: glance
    entities:
      - name: NFC Tag 1
        icon: mdi:nfc
        entity: binary_sensor.nfc_tag_1
      - name: NFC Tag 2
        icon: mdi:nfc
        entity: binary_sensor.nfc_tag_2
    columns: 2

  # Toont informatie over de Zwave Nodes
  - type: entities
    title: Zwave Nodes
    show_header_toggle: false
    entities:
      - zwave.aeotec_zw090_zstick_gen5_eu
      - zwave.aeotec_zw117_range_extender_6
      - zwave.fibaro_door_sensor_hal_begane_grond
      - zwave.fibaro_motion_sensor_hal_begane_grond
      - zwave.fibaro_smoke_sensor_gang_begane_grond
      - zwave.fibaro_smoke_sensor_slaapkamer_zolder
